
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Free online video & audio downloader. Download from YouTube, Facebook, Instagram in HD quality. No signup required.">
    <title>India Universal Downloader</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> 
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- SEO Title -->
  <title>Universal Video & Audio Downloader | YouTube, Facebook, Instagram Free</title>

  <!-- Meta Description (Search Result में दिखेगा) -->
  <meta name="description" content="Free online Universal Video & Audio Downloader. Download from YouTube, Facebook, Instagram in HD MP4 & MP3 formats. Fast, secure & no signup required.">

  <!-- Meta Keywords -->
  <meta name="keywords" content="YouTube downloader, Facebook video downloader, Instagram reels download, free video downloader, MP3 MP4 download, online downloader">

  <!-- Author -->
  <meta name="author" content="Your Website Name">

  <!-- Favicon -->
  <link rel="icon" href="favicon.ico" type="image/x-icon">

  <!-- Open Graph (Facebook, WhatsApp, etc. share ke liye) -->
  <meta property="og:title" content="Universal Video & Audio Downloader">
  <meta property="og:description" content="Download from YouTube, Facebook, Instagram in HD MP4 & MP3 formats. 100% Free & No Signup required.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://yourwebsite.com">
  <meta property="og:image" content="https://yourwebsite.com/logo.png">

  <!-- Twitter Card (Twitter share ke liye) -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Universal Video & Audio Downloader">
  <meta name="twitter:description" content="Free Video & Audio Downloader for YouTube, Facebook & Instagram.">
  <meta name="twitter:image" content="https://yourwebsite.com/logo.png">

  <!-- External CSS (Font Awesome Example) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: #2c3e50;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 900px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            padding: 30px;
            margin-top: 40px;
            text-align: center;
        }
        
        header {
            margin-bottom: 30px;
            position: relative;
        }
        
        .logo {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 15px;
        }
        
        .logo-icon {
            font-size: 3rem;
            color: #6a11cb;
            margin-right: 10px;
        }
        
        h1 {
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 2.8rem;
            margin-bottom: 10px;
        }
        
        .tagline {
            color: #7f8c8d;
            font-size: 1.1rem;
            margin-bottom: 20px;
        }
        
        .input-group {
            display: flex;
            margin-bottom: 25px;
            position: relative;
        }
        
        #url-input {
            flex: 1;
            padding: 17px 140px 17px 20px;
            border: 2px solid #ddd;
            border-radius: 50px;
            font-size: 1rem;
            outline: none;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        #url-input:focus {
            border-color: #6a11cb;
            box-shadow: 0 4px 15px rgba(106, 17, 203, 0.2);
        }
        
        .input-icons {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .paste-icon {
            color: #7f8c8d;
            cursor: pointer;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 50%;
            font-size: 1.2rem;
            transition: all 0.3s;
        }
        
        .paste-icon:hover {
            color: #ffffff;
            background: #a39905;
            transform: scale(1.1);
        }
        
        #search-btn {
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 12px 24px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(106, 17, 203, 0.3);
        }
        
        #search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(106, 17, 203, 0.4);
        }
        
        .download-options {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            margin: 30px 0;
            display: none;
        }
        
        .download-options.visible {
            display: flex;
        }
        
        .option-card {
            background: #fff;
            border-radius: 15px;
            padding: 20px;
            width: 200px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: transform 0.3s;
            border: 1px solid #e9ecef;
        }
        
        .option-card:hover {
            transform: translateY(-5px);
        }
        
        .option-card h3 {
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
           .dropdown {
            position: relative;
            display: inline-block;
            width: 100%;
            margin-bottom: 15px;
        }
        
        .dropbtn {
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            color: white;
            padding: 12px 15px;
            font-size: 1rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            text-align: left;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }
        
        .dropbtn:hover {
            box-shadow: 0 4px 10px rgba(106, 17, 203, 0.3);
        }
        
       .dropdown-content {
            display: none;
            position: absolute;
            background-color: #fff;
            min-width: 100%;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            border-radius: 8px;
            overflow: hidden;
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #e9ecef;
        }
        
        .dropdown-content a {
            color: #2c3e50;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            text-align: left;
            transition: background 0.3s;
            border-bottom: 1px solid #f1f2f6;
        }
        
        .dropdown-content a:hover {
            background-color: #2c2d2e;
            color: #d7d1df;
        }
        
        .dropdown:hover .dropdown-content {
            display: block;
        }

          
        .device-logos {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .device-logo {
            font-size: 2.5rem;
            color: #6a11cb;
            transition: transform 0.3s;
        }
        
        .device-logo:hover {
            transform: scale(1.2);
        }
        
        .instructions {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            text-align: left;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .instructions h2 {
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .instructions ol {
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 10px;
            line-height: 1.5;
            color: #2c3e50;
        }
        
        footer {
            margin-top: 30px;
            color: white;
            text-align: center;
            width: 100%;
        }

        .disclaimer {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: 10px;
        }
        
        .selected-options {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 15px;
            margin: 20px 0;
            text-align: center;
            display: none;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .selected-options.visible {
            display: block;
        }
        
        .selected-options h3 {
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        
        .selected-item {
            display: inline-block;
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            margin: 5px;
            font-size: 0.9rem;
            box-shadow: 0 4px 8px rgba(106, 17, 203, 0.2);
        }
        
        .social-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
          .social-section h2 {
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .social-links {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        .social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            color: white;
            border-radius: 50%;
            font-size: 1.5rem;
            text-decoration: none;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(106, 17, 203, 0.3);
        }
        
        .social-link:hover {
            transform: scale(1.1) translateY(-3px);
            box-shadow: 0 6px 15px rgba(106, 17, 203, 0.4);
        }
        
        #download-options-btn {
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 16px 32px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin: 20px 0;
            display: none;
            box-shadow: 0 6px 15px rgba(106, 17, 203, 0.3);
        }
        
        #download-options-btn.visible {
            display: inline-block;
        }
        
        #download-options-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(106, 17, 203, 0.4);
        }
        
        .color-themes {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        
        .color-theme {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }
        
        .color-theme:hover {
            transform: scale(1.2);
        }
        
        .theme-purple { background: linear-gradient(45deg, #6a11cb, #2575fc); }
        .theme-red { background: linear-gradient(45deg, #ff416c, #ff4b2b); }
        .theme-green { background: linear-gradient(45deg, #0ba360, #3cba92); }
        .theme-pink { background: linear-gradient(45deg, #f80759, #bc4e9c); }
        
        @media (max-width: 768px) {
            .input-group {
                flex-direction: column;
            }
            
            #url-input {
                border-radius: 50px;
                margin-bottom: 10px;
                padding-right: 20px;
            }
            
            .input-icons {
                position: relative;
                right: auto;
                top: auto;
                transform: none;
                justify-content: center;
                margin-top: 10px;
            }
            
            #search-btn {
                position: relative;
                right: auto;
                top: auto;
                transform: none;
                margin-top: 10px;
            }
            
            .download-options {
                flex-direction: column;
                align-items: center;
            }
            
            .option-card {
                width: 100%;
                max-width: 300px;
            }
            
            .social-links {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>

    <script src="main.js"></script>
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-download"></i>
                </div>
                <h1>India Universal Downloader</h1>
            </div>
             <div class="social-links">
                <a href="#" class="social-link" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="#" class="social-link" title="Twitter"><i class="fab fa-twitter"></i></a>
                <a href="#" class="social-link" title="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="#" class="social-link" title="YouTube"><i class="fab fa-youtube"></i></a>
                <a href="#" class="social-link" title="pinterest"><i class="fa-brands fa-square-pinterest"></i></a>
            </div>
            <p class="tagline">Download videos and audio from any platform</p>
        </header>
        
        <div class="color-themes">
            <div class="color-theme theme-purple" data-theme="purple"></div>
            <div class="color-theme theme-red" data-theme="red"></div>
            <div class="color-theme theme-green" data-theme="green"></div>
            <div class="color-theme theme-pink" data-theme="pink"></div>
        </div>
        
        <div class="input-group">
            <input type="url" id="url-input" placeholder="Paste your video or audio link here..." required>
            <div class="input-icons">
                <div class="paste-icon" id="paste-btn" title="Paste from clipboard">
                    <i class="fas fa-paste"></i>
                </div>
                <button id="search-btn"><i class="fas fa-search"></i> Search</button>
            </div>
        </div>
        
        <button id="download-options-btn"><i class="fas fa-download"></i> Download Now</button>
        
        <div class="download-options" id="download-options">
            <div class="option-card">
                <h3>Video Quality</h3>
                <div class="dropdown">
                    <button class="dropbtn">Select Quality <i class="fas fa-caret-down"></i></button>
                    <div id="video-dropdown-content" class="dropdown-content">

                   <a href="#" data-type="quality" data-value="313"><i class="fas fa-video"></i> 4K Ultra HD (313)</a>
                    <a href="#" data-type="quality" data-value="271"><i class="fas fa-video"></i> 1440p (271)</a>
                    <a href="#" data-type="quality" data-value="137"><i class="fas fa-video"></i> 1080p (137)</a>
                   <a href="#" data-type="quality" data-value="22"><i class="fas fa-video"></i> 720p (22)</a>
                    <a href="#" data-type="quality" data-value="135"><i class="fas fa-video"></i> 480p (135)</a>
                    <a href="#" data-type="quality" data-value="18"><i class="fas fa-video"></i> 360p (18)</a>
                   <a href="#" data-type="quality" data-value="133"><i class="fas fa-video"></i> 240p (133)</a>
                    <a href="#" data-type="quality" data-value="160"><i class="fas fa-video"></i> 144p (160)</a> 

                    </div>
                </div>
                <p>Select your preferred video quality</p>
            </div>
            
            <div class="option-card">
                <h3>Audio Format</h3>
                <div class="dropdown">
                    <button class="dropbtn">Select Format <i class="fas fa-caret-down"></i></button>
                    <div  id="audio-dropdown-content"class="dropdown-content">

                       
                   <a href="#" data-type="format" data-value="154"><i class="fas fa-music"></i> M4A Audio (140)</a>
                      <a href="#" data-type="format" data-value="251"><i class="fas fa-music"></i> WebM Opus (251)</a>
                     <a href="#" data-type="format" data-value="249"><i class="fas fa-music"></i> WebM Opus Low (249)</a>
                      <a href="#" data-type="format" data-value="250"><i class="fas fa-music"></i> WebM Opus Med (250)</a>
                      <a href="#" data-type="format" data-value="139"><i class="fas fa-music"></i> M4A Low Bitrate (139)</a>
                      <a href="#" data-type="format" data-value="17"><i class="fas fa-music"></i> 3GP Audio (17)</a>  

                    </div>
                </div>
                <p>Choose audio format and quality</p>
            </div>
        </div>
        
        <div class="selected-options" id="selected-options">
            <h3>Selected Options:</h3>
            <div id="selected-quality" class="selected-item">No quality selected</div>
            <div id="selected-format" class="selected-item">No format selected</div>
        </div>

        <div class="social-section">
            <h2>Connect With Me</h2>
            <div class="social-links">
                <a href="https://www.facebook.com/share/1A5SGnQWXV/ " class="social-link" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="#" class="social-link" title="Twitter"><i class="fab fa-twitter"></i></a>
                <a href="instagram.com/madankumar9558?igsh=N24zYmF6ZDdueWFn" class="social-link" title="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="www.youtube.com/@aiseekhoi" class="social-link" title="YouTube"><i class="fab fa-youtube"></i></a>
                <a href="https://www.linkedin.com/in/madan-kumar-58192530a?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app" class="social-link" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
            </div>
        </div>
        
        <div class="device-logos">
            <i class="fab fa-android device-logo" title="Android"></i>
            <i class="fab fa-apple device-logo" title="iOS"></i>
            <i class="fab fa-windows device-logo" title="Windows"></i>
            <i class="fab fa-linux device-logo" title="Linux"></i>
        </div>
        
        <div class="instructions">
            <h2>How to Use</h2>
            <ol>
                <li>Copy the link of the video or audio you want to download</li>
                <li>Paste the link in the input field above (or click the paste icon)</li>
                <li>Click the Search button to analyze your link</li>
                <li>Select your preferred quality and format from the dropdown menus</li>
                <li>Click the Download Now button</li>
                <li>Wait for processing and your download will start automatically</li>
            </ol>
        </div>
    </div>
    
    <footer>
        <p>India Universal Downloader &copy; 2023 - All rights reserved</p>
        <p class="disclaimer">Note: This is a frontend demo. Actual download functionality would require backend processing.</p>
    </footer>

 <script>
            document.addEventListener('DOMContentLoaded', function() {
            const searchBtn = document.getElementById('search-btn');
            const downloadOptionsBtn = document.getElementById('download-options-btn');
            const urlInput = document.getElementById('url-input');
            const pasteBtn = document.getElementById('paste-btn');
            const downloadOptions = document.getElementById('download-options');
            const selectedOptions = document.getElementById('selected-options');
            
            // Track selected options
            let selectedQuality = null;
            let selectedFormat = null;
            
            // Theme switching functionality
            document.querySelectorAll('.color-theme').forEach(theme => {
                theme.addEventListener('click', function() {
                    const themeColor = this.getAttribute('data-theme');
                    changeTheme(themeColor);
                });
            });
            
            function changeTheme(theme) {
                let primaryColor, secondaryColor;
                
                switch(theme) {
                    case 'purple':
                        primaryColor = '#6a11cb';
                        secondaryColor = '#2575fc';
                        break;
                    case 'red':
                        primaryColor = '#ff416c';
                        secondaryColor = '#ff4b2b';
                        break;
                    case 'green':
                        primaryColor = '#0ba360';
                        secondaryColor = '#3cba92';
                        break;
                    case 'pink':
                        primaryColor = '#f80759';
                        secondaryColor = '#bc4e9c';
                        break;
                    default:
                        primaryColor = '#6a11cb';
                        secondaryColor = '#2575fc';
                }
                
                // Update CSS variables or directly change styles
                document.documentElement.style.setProperty('--primary-color', primaryColor);
                document.documentElement.style.setProperty('--secondary-color', secondaryColor);
                
                // Update gradient backgrounds
                const gradientElements = document.querySelectorAll('[style*="gradient"]');
                document.querySelectorAll('h1, .option-card h3, .instructions h2, .selected-options h3, .social-section h2').forEach(el => {
                    el.style.background = `linear-gradient(45deg, ${primaryColor}, ${secondaryColor})`;
                    el.style.webkitBackgroundClip = 'text';
                    el.style.webkitTextFillColor = 'transparent';
                });
                
                document.querySelectorAll('.dropbtn, #search-btn, #download-options-btn, .social-link, .selected-item').forEach(el => {
                    el.style.background = `linear-gradient(45deg, ${primaryColor}, ${secondaryColor})`;
                });
                
                document.querySelectorAll('.device-logo').forEach(el => {
                    el.style.color = primaryColor;
                });
                
                document.getElementById('url-input').style.borderColor = '#ddd';
                document.getElementById('url-input').addEventListener('focus', function() {
                    this.style.borderColor = primaryColor;
                });
                
                document.querySelectorAll('.paste-icon:hover').forEach(el => {
                    el.style.color = primaryColor;
                });
            }
            
            // Paste functionality
            pasteBtn.addEventListener('click', async function() {
                try {
                    const text = await navigator.clipboard.readText();
                    urlInput.value = text;
                    
                    // Show a brief confirmation
                    const originalIcon = pasteBtn.innerHTML;
                    pasteBtn.innerHTML = '<i class="fas fa-check"></i>';
                    setTimeout(() => {
                        pasteBtn.innerHTML = originalIcon;
                    }, 1500);
                } catch (err) {
                    alert('Failed to read from clipboard. Please paste manually.');
                }
            });
            
            // Search button functionality
            searchBtn.addEventListener('click', function() {
                const url = urlInput.value.trim();
                
                if (!url) {
                    alert('Please enter a valid URL');
                    return;
                }
                
                // Simple validation for demonstration
                if (!isValidUrl(url)) {
                    alert('Please enter a valid URL including http:// or https://');
                    return;
                }
                
                // Show download options
                downloadOptions.classList.add('visible');
                downloadOptionsBtn.classList.add('visible');
                
                // Simulate searching
                searchBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Searching...';
                searchBtn.disabled = true;
                
                setTimeout(() => {
                    searchBtn.innerHTML = '<i class="fas fa-search"></i> Search';
                    searchBtn.disabled = false;
                    alert('Link analyzed successfully! Please select your preferred options below.');
                }, 1500);
            });

            downloadOptionsBtn.addEventListener('click', async function() {
    const url = urlInput.value.trim();
    if (!url) {
        alert('Please enter a valid URL');
        return;
    }
    if (!selectedQuality && !selectedFormat) {
        alert('Please select at least one option (video quality or audio format)');
        return;
    }

    const payload = {
        url: url,
        quality: selectedQuality || 'best',
        format: selectedFormat || 'mp4'
    };

    this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Downloading...';
    this.disabled = true;

    try {
        const response = await fetch('/download', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(payload),
        });

        if (!response.ok) {
            throw new Error('Download failed');
        }

        const blob = await response.blob();
        const filename = `downloaded.${payload.format.split(" ").toLowerCase()}`;
        const a = document.createElement('a');
        a.href = window.URL.createObjectURL(blob);
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        a.remove();
        window.URL.revokeObjectURL(a.href);
    } catch (err) {
        alert(err.message);
    } finally {
        this.innerHTML = '<i class="fas fa-download"></i> Download Now';
        this.disabled = false;
    }
});downloadOptionsBtn.addEventListener('click', async function() {
    const url = urlInput.value.trim();
    if (!url) {
        alert('Please enter a valid URL');
        return;
    }
    if (!selectedQuality && !selectedFormat) {
        alert('Please select at least one option (video quality or audio format)');
        return;
    }

    const payload = {
        url: url,
        quality: selectedQuality || 'best',
        format: selectedFormat || 'mp4'
    };

    this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Downloading...';
    this.disabled = true;

    try {
        const response = await fetch('/download', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(payload),
        });

        if (!response.ok) {
            const err = await response.json();
            alert('Download failed: ' + (err.error || 'Unknown error'));
            throw new Error(err.error || 'Download failed');
        }

        const blob = await response.blob();
        // इस लाइन को fix किया गया है:
        const filename = `downloaded.${payload.format.split(" ")[0].toLowerCase()}`;
        const a = document.createElement('a');
        a.href = window.URL.createObjectURL(blob);
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        a.remove();
        window.URL.revokeObjectURL(a.href);
    } catch (err) {
        alert(err.message);
    } finally {
        this.innerHTML = '<i class="fas fa-download"></i> Download Now';
        this.disabled = false;
    }
});

     });
        
            
            // Add functionality to dropdown items
            document.querySelectorAll('.dropdown-content a').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const text = this.textContent;
                    const type = this.getAttribute('data-type');
                    const value = this.getAttribute('data-value');
                    const dropbtn = this.closest('.dropdown').querySelector('.dropbtn');
                    
                    dropbtn.innerHTML = text + ' <i class="fas fa-caret-down"></i>';
                    
                    // Update selected options
                    if (type === 'quality') {
                        selectedQuality = value;
                        document.getElementById('selected-quality').textContent = `Quality: ${value}`;
                    } else if (type === 'format') {
                        selectedFormat = value;
                        document.getElementById('selected-format').textContent = `Format: ${value}`;
                    }
                    
                    // Show selected options
                    selectedOptions.classList.add('visible');
                });
            });
            
            function isValidUrl(string) {
                try {
                    new URL(string);
                    return true;
                } catch (_) {
                    return false;
                }
            }
            
            function simulateDownloadProcess(url, quality, format) {
                // Show processing message
                downloadOptionsBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
                downloadOptionsBtn.disabled = true;
                
                // Simulate processing time
                setTimeout(() => {
                    // Check if it's a video or audio URL (very basic detection for demo)
                    const isVideo = url.includes('youtube') || url.includes('vimeo') || url.includes('video');
                    const fileType = isVideo ? 'video' : 'audio';
                    
                    // Show success message with selected options
                    let message = `Your ${fileType} is ready for download!`;
                    if (quality) message += `\nQuality: ${quality}`;
                    if (format) message += `\nFormat: ${format}`;
                    message += '\n\nThis is a demo - in a real application, the download would start now.';
                    
                    alert(message);
                    
                    // Reset button
                    downloadOptionsBtn.innerHTML = '<i class="fas fa-download"></i> Download Now';
                    downloadOptionsBtn.disabled = false;
                    
                    // Clear input and options
                    urlInput.value = '';
                    downloadOptions.classList.remove('visible');
                    downloadOptionsBtn.classList.remove('visible');
                    selectedOptions.classList.remove('visible');
                    
                    // Reset selections
                    selectedQuality = null;
                    selectedFormat = null;
                    document.getElementById('selected-quality').textContent = 'No quality selected';
                    document.getElementById('selected-format').textContent = 'No format selected';
                    
                    // Reset dropdown buttons
                    document.querySelectorAll('.dropbtn').forEach(btn => {
                        if (btn.textContent.includes('Quality')) {
                            btn.innerHTML = 'Select Quality <i class="fas fa-caret-down"></i>';
                        } else if (btn.textContent.includes('Format')) {
                            btn.innerHTML = 'Select Format <i class="fas fa-caret-down"></i>';
                        }
                    });
                }, 1000);
            }
                        // जब भी नया वीडियो लिंक डाला जाए तो dropdown reset हो
            document.getElementById('url-input').addEventListener('input', () => {
                // सभी dropdown बटन reset करें
                document.querySelectorAll('.dropbtn').forEach(btn => {
                    if (btn.textContent.includes('Quality')) {
                        btn.innerHTML = 'Select Quality <i class="fas fa-caret-down"></i>';
                    } else if (btn.textContent.includes('Format')) {
                        btn.innerHTML = 'Select Format <i class="fas fa-caret-down"></i>';
                    }
                });
            
                // selected values को reset करें
                document.getElementById('selected-quality').textContent = 'No quality selected';
                document.getElementById('selected-format').textContent = 'No format selected';
            });
            

            // Add event listeners to social links
            document.querySelectorAll('.social-link').forEach(link => {
               link.addEventListener('click', function(e) {
                   e.preventDefault();
                   window.open(link.href,'_blank');
                   // const platform = this.getAttribute('title');
                    //alert(`This would open my ${platform} profile in a real application.`);
                });
            });
        
    </script>
<script src="main.js"></script>
</body>
</html>
 
